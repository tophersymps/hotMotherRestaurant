<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>Operation Hot Restaurant</title>

  <!-- Import Google Icon Font -->
  <link href="https://fonts.googleapis.com/css?family=Inconsolata" rel="stylesheet">
  <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">

  <!-- Compiled and minified CSS -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/materialize/0.100.2/css/materialize.min.css">
  
</head>

<body class="indigo lighten-5">
  <div class="navbar-fixed">
    
    <nav>
        <div class="nav-wrapper teal lighten-2">
          <a href="#" class="brand-logo center">Operation Hot Restaurant</a>
          <ul id="nav-mobile" class="left hide-on-med-and-down">
          </ul>
        </div>
      </nav>

      
</div>

<div class="container">
    <div class="row">
      <div class="col s12">
        <div class="carousel">
            <a class="carousel-item" href="#one!"><img src="buster1.png"></a>
            <a class="carousel-item" href="#two!"><img src="buster2.jpg"></a>
            <a class="carousel-item" href="#three!"><img src="buster3.jpg"></a>
            <a class="carousel-item" href="#four!"><img src="buster4.jpg"></a>
          </div>
      </div>
    </div>

    <div class="row">
            <form class="col s12">
              
              <div class="row">
                <div class="input-field col s12">
                  <input id="name" type="text" class="validate">
                  <label for="name">Name</label>
                </div>
              </div>

              <div class="row">
                <div class="input-field col s12">
                  <input id="phone" type="text" class="validate">
                  <label for="phone">phone</label>
                </div>
              </div>

              <div class="row">
                <div class="input-field col s12">
                  <input id="email" type="email" class="validate">
                  <label for="email">Email</label>
                </div>
              </div>

              <div class="row">
                <div class="input-field col s12">
                  <input id="uniqueID" type="text" class="validate">
                  <label for="uniqueID">Unique ID</label>
                </div>
              </div>

                <button class="btn waves-effect waves-light" type="submit" name="action" id="update-info">Submit
                    <i class="material-icons right">send</i>
                </button>
              
            </form>
          </div>
</div>

<footer class="page-footer teal lighten-2 hoverable">
  <div class="container">
      <div class="row">

        <div class="col s12 right-align">
          <h5 class="white-text bottom-links-header">LINKS</h5>
          <ul>
            <li><a class="grey-text text-lighten-3 bottom-links" href="index.html">Home</a></li>
            <li><a class="grey-text text-lighten-3 bottom-links" href="tables.html">Tables</a></li>
            <li><a class="grey-text text-lighten-3 bottom-links" href="reserve.html">Reservations</a></li>
          </ul>
        </div>
      </div>
    </div>
</footer>
  
<!-- Minified jQuery -->
<script src="https://code.jquery.com/jquery-3.3.1.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous"></script>

<!-- Compiled and minified JavaScript -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/materialize/0.100.2/js/materialize.min.js"></script>

<!-- Local JS file -->
<script src="local.js"></script>

<script type="text/javascript">

$("#update-info").on("click", function(){

event.preventDefault();


// Grabs field
reservation = {

name: $("#name").val().trim(),
phone: $("#phone").val().trim(),
email: $("#email").val().trim(),
uniqueID: $("#uniqueID").val().trim(),
}

console.log(reservation)

$.post("/tables", reservation,
  function(data) {

    // If a table is available... tell user they are booked.
    if (data) {
      alert("Yay! You are officially booked!");
    }

    // If a table is available... tell user they on the waiting list.
    else {
      alert("Sorry you are on the wait list");
    }

    // Clear the form when submitting
    $("#name").val("");
    $("#phone").val("");
    $("#email").val("");
    $("#uniqueID").val("");

  });


})

</script>
</body>
</html>